# 室友匹配算法模块说明文档

## 模块概述

`matching.ts` 模块是宿舍匹配系统的核心功能之一，负责根据新生的问卷数据和已有学生数据，计算室友匹配度，并生成推荐的室友组合列表。

## 功能特点

1. **多维度匹配**：支持根据多项问卷结果（作息习惯、卫生习惯、兴趣爱好等）进行综合评分。
2. **权重可调**：不同的匹配维度可以分配不同权重，方便学院根据实际情况调整。
3. **可扩展性**：易于增加新的匹配维度或调整评分规则。
4. **匹配推荐列表**：根据匹配度生成降序排列的推荐室友组合。

## 核心函数

### `calculateSimilarity(userA, userB)`

**功能**：计算两个用户之间的匹配度分数。

* **输入**：`userA`, `userB`（用户问卷数据对象）
* **输出**：`number`（匹配度分数，0 \~ 1 之间）
* **逻辑**：遍历所有匹配维度，根据两人答案的相似程度和该维度权重累加得分。

### `matchRoommates(students)`

**功能**：为所有学生生成室友匹配推荐列表。

* **输入**：`students`（包含所有学生问卷信息的数组）
* **输出**：`MatchResult[]`（推荐匹配结果列表）
* **逻辑**：

  1. 对所有学生两两组合计算匹配度。
  2. 将匹配结果按分数降序排序。
  3. 输出前若干条最佳组合。

## 数据结构

### `Student`

```ts
interface Student {
  id: string;
  name: string;
  habits: Habits;
  interests: string[];
  sleepTime: string; // 早睡/晚睡
  cleanliness: number; // 1-5
}
```

### `MatchResult`

```ts
interface MatchResult {
  studentA: Student;
  studentB: Student;
  score: number;
}
```

## 后续优化方向

1. 引入机器学习模型，提高匹配精度。
2. 支持多室匹配（如 4 人间分配）。
3. 添加冲突检测机制（避免某些学生组合）。
