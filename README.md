# 室友匹配系统

这是一个基于 **Next.js** 构建的室友匹配应用程序，支持用户认证和登录用户的仪表板功能。

## 功能特性

- 默认首页 (`/`)
- 站点配置文件 `lib/config.ts`，记得更新名称和描述
- 基于邮箱/密码的身份认证，JWT 存储在 cookies 中
- 全局中间件保护登录路由
- 本地中间件保护 Server Actions 或验证 Zod 模式
- 用户事件活动日志系统

## 技术栈

- **框架**: [Next.js](https://nextjs.org/)
- **数据库**: [Postgres](https://www.postgresql.org/)
- **ORM**: [Drizzle](https://orm.drizzle.team/)
- **UI 库**: [shadcn/ui](https://ui.shadcn.com/)

## 快速开始

```bash
git clone git@github.com:Frank-whw/roommate-matching-system.git
cd roommate-matching-system
npm install
```

## 本地运行

创建您的 `.env` 文件：

数据库相关配置请联系 Frank-whw

SMTP 相关配置请联系 Frank-whw

最后，运行 Next.js 开发服务器：

```bash
npm run dev
```

在浏览器中打开 [http://localhost:3000](http://localhost:3000) 查看应用程序运行效果。

## 项目进度状态

### ✅ 已完成功能

#### 核心功能
- **用户认证系统**: 完整的注册、登录、邮箱验证流程
- **个人资料管理**: 详细的用户偏好设置（MBTI、作息、生活习惯等）
- **匹配系统**: 用户发现、点赞/忽略、双向匹配机制
- **团队管理**: 队伍创建、申请审核、成员管理功能
- **实时通知**: 基于轮询的通知系统和通知中心

#### 技术特性
- **响应式设计**: 支持桌面端和移动端的现代化界面
- **主题切换**: 明亮/深色主题支持
- **数据安全**: JWT认证、密码加密、SQL注入防护
- **表单验证**: 基于Zod的完整输入验证
- **路由保护**: 中间件级别的认证保护

### 🚧 开发路线图

#### 第一阶段：生产就绪 (优先级：高)
- [ ] **测试框架建设**
  - [ ] 搭建单元测试环境 (Jest/Vitest)
  - [ ] 编写核心功能测试用例
  - [ ] 集成测试覆盖关键流程
  - [ ] E2E测试覆盖用户核心路径
  
- [ ] **监控与日志系统**
  - [ ] 集成错误追踪 (Sentry)
  - [ ] 添加系统性能监控
  - [ ] 完善应用日志记录
  - [ ] 设置报警和通知机制

- [ ] **部署优化**
  - [ ] Docker容器化配置
  - [ ] 生产环境配置优化
  - [ ] 数据库备份策略
  - [ ] CI/CD流水线搭建

#### 第二阶段：功能增强 (优先级：中)
- [ ] **通讯系统**
  - [ ] 匹配用户间的消息系统
  - [ ] 团队内部聊天功能
  - [ ] 消息历史持久化
  - [ ] 消息通知优化

- [ ] **用户体验优化**
  - [ ] 用户头像上传功能
  - [ ] 新用户引导流程
  - [ ] 用户反馈评价系统
  - [ ] 个人资料完整度提升

- [ ] **管理功能**
  - [ ] 系统管理员面板
  - [ ] 用户管理和内容审核
  - [ ] 数据分析和统计报表
  - [ ] 系统使用情况监控

#### 第三阶段：高级特性 (优先级：低)
- [ ] **智能匹配算法**
  - [ ] 基于机器学习的兼容性评分
  - [ ] 个性互补型匹配推荐
  - [ ] 用户行为分析优化
  - [ ] 匹配成功率追踪

- [ ] **社交功能扩展**
  - [ ] 用户动态和朋友圈
  - [ ] 活动组织和参与
  - [ ] 兴趣小组功能
  - [ ] 校园生活集成

- [ ] **平台集成**
  - [ ] 宿舍管理系统对接
  - [ ] 学校系统数据同步
  - [ ] 第三方支付集成
  - [ ] 移动应用开发

### 📊 当前项目健康度

**整体完成度**: 约 70%

- **核心功能**: ✅ 完全实现
- **用户界面**: ✅ 完全实现  
- **数据安全**: ✅ 完全实现
- **测试覆盖**: ❌ 待建设 (生产风险)
- **监控系统**: ❌ 待建设 (生产风险)
- **文档完善**: ⚠️ 部分完成

### 🎯 近期目标

1. **本周目标**: 完成测试框架搭建，覆盖核心API和组件
2. **本月目标**: 实现监控系统和错误追踪，准备生产部署
3. **季度目标**: 完成消息系统开发，提升用户交互体验

### 💡 贡献指南

- 新功能开发请基于 `dev/feature` 分支
- 提交前确保通过所有测试用例
- 遵循现有代码风格和架构模式
- 重要功能变更需要更新API文档
