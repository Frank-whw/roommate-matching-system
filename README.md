# 室友匹配系统

这是一个基于 **Next.js** 构建的室友匹配应用程序，支持用户认证和登录用户的仪表板功能。

## todo

**feature**
- [x] 不收集学业信息
- [x] 确定用户显示名称：昵称 vs 真实姓名 （感觉还是手机真实姓名吧，一个班的无所谓）
- [ ] 用户头像要不要存储？存储在哪 
- [ ] 收集用户地域信息（南方/北方）——hyq建议，（这个我感觉可以用一个引导词，让用户在填写个人介绍的时候写）
- [ ] 匹配算法选择：加权算法 vs AI匹配（这个先不急，不一定做）
	- [ ] 匹配算法权重配置
- [x] 筛选功能完善（目前为占位符）
- [x] 只能看到同性的队伍，team表得有性别字段
- [ ] 测试消息提醒功能
	- [ ] 邀请消息
	- [ ] 接受消息
	- [ ] 拒绝消息
- [x] 队伍广场的数据要从数据库获取，目前是占位符
- [x] 队伍广场和我的匹配这2个页面的逻辑不够清晰，需要重新设计
	- [x] 队伍广场：展示所有队伍，用户可以加入队伍
	- [x] 我的匹配：展示用户加入的队伍，用户可以退出队伍
- [x] 寻找队伍功能
- [ ] 点击邀请按钮，按钮变浅，再次点击取消邀请
- [x] 我们这个项目的特色是不允许改密码
- [ ] 注册的时候输入密码的同时要输入姓名和性别，这些字段存在user表中（Frank）
- [ ] 邀请的逻辑需要再想一下（Frank）
- [x] 邀请后，对方需要接受才可以加入队伍
- [x] 邀请后，对方可以拒绝邀请
- [ ] 成员管理的功能集成在“队伍成员”这个卡片中，节省页面空间
- [ ] 后端数据库不要存储用户的邮箱，整个项目只有一开始输入学号的时候会给教育邮箱发消息
- [ ] 在“我的匹配”的队伍成员卡片中，点击某个成员 会跳转到这个成员的详情页
- [ ] “队伍管理”的编辑队伍目前只是占位符，后续可以编辑队伍的字段

**UI/UX改进**
- [x] 实现黑夜模式
- [x] 实现主题色切换
- [x] 移除"跳过"功能（用户量少，无必要）
- [x] "喜欢"改为"邀请"更合适
- [x] 移除无用标签（新用户、活跃用户等）
- [x] 匹配广场的用户卡片需要加上对室友的期待这个信息
- [x] 用户详细信息页面“查看详情”按钮 删除或者完善逻辑
- [ ] 队伍卡片有点丑，需要美化
- [ ] 用户详细资料页面要显示完整的生活习惯，而不是一个图标

## 功能特性

- 默认首页 (`/`)
- 站点配置文件 `lib/config.ts`，记得更新名称和描述
- 基于邮箱/密码的身份认证，JWT 存储在 cookies 中
- 全局中间件保护登录路由
- 本地中间件保护 Server Actions 或验证 Zod 模式
- 用户事件活动日志系统

## 技术栈

- **框架**: [Next.js](https://nextjs.org/)
- **数据库**: [Postgres](https://www.postgresql.org/)
- **ORM**: [Drizzle](https://orm.drizzle.team/)
- **UI 库**: [shadcn/ui](https://ui.shadcn.com/)

## 快速开始

```bash
git clone git@github.com:Frank-whw/roommate-matching-system.git
cd roommate-matching-system
npm install
```

## 本地运行

创建您的 `.env` 文件：

数据库相关配置请联系 Frank-whw

SMTP 相关配置请联系 Frank-whw

最后，运行 Next.js 开发服务器：

```bash
npm run dev
```

在浏览器中打开 [http://localhost:3000](http://localhost:3000) 查看应用程序运行效果。


## todo

**feature**
- [x] 不收集学业信息
- [x] 确定用户显示名称：昵称 vs 真实姓名 （感觉还是手机真实姓名吧，一个班的无所谓）
- [ ] 用户头像要不要存储？存储在哪 
- [ ] 收集用户地域信息（南方/北方）——hyq建议，（这个我感觉可以用一个引导词，让用户在填写个人介绍的时候写）
- [ ] 匹配算法选择：加权算法 vs AI匹配（这个先不急，不一定做）
	- [ ] 匹配算法权重配置
- [x] 筛选功能完善（目前为占位符）
- [x] 只能看到同性的队伍，team表得有性别字段
- [ ] 测试消息提醒功能
	- [ ] 邀请消息
	- [ ] 接受消息
	- [ ] 拒绝消息
- [x] 队伍广场的数据要从数据库获取，目前是占位符
- [x] 队伍广场和我的匹配这2个页面的逻辑不够清晰，需要重新设计
	- [x] 队伍广场：展示所有队伍，用户可以加入队伍
	- [x] 我的匹配：展示用户加入的队伍，用户可以退出队伍
- [x] 寻找队伍功能
- [ ] 点击邀请按钮，按钮变浅，再次点击取消邀请
- [x] 我们这个项目的特色是不允许改密码
- [ ] 注册的时候输入密码的同时要输入姓名和性别，这些字段存在user表中（Frank）
- [ ] 邀请的逻辑需要再想一下（Frank）
- [x] 邀请后，对方需要接受才可以加入队伍
- [x] 邀请后，对方可以拒绝邀请
- [ ] 成员管理的功能集成在"队伍成员"这个卡片中，节省页面空间
- [ ] 后端数据库不要存储用户的邮箱，整个项目只有一开始输入学号的时候会给教育邮箱发消息
- [ ] 在"我的匹配"的队伍成员卡片中，点击某个成员 会跳转到这个成员的详情页
- [ ] "队伍管理"的编辑队伍目前只是占位符，后续可以编辑队伍的字段

**UI/UX改进**
- [x] 实现黑夜模式
- [x] 实现主题色切换
- [x] 移除"跳过"功能（用户量少，无必要）
- [x] "喜欢"改为"邀请"更合适
- [x] 移除无用标签（新用户、活跃用户等）
- [x] 匹配广场的用户卡片需要加上对室友的期待这个信息
- [x] 用户详细信息页面"查看详情"按钮 删除或者完善逻辑
- [ ] 队伍卡片有点丑，需要美化
- [ ] 用户详细资料页面要显示完整的生活习惯，而不是一个图标

